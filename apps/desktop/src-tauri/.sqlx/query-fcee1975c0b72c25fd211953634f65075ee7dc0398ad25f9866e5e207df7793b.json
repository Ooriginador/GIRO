{
  "db_name": "SQLite",
  "query": "\n            SELECT\n                wc.id, wc.customer_id, wc.source_type, wc.sale_item_id, wc.order_item_id,\n                wc.product_id, wc.description, wc.reason, wc.status, wc.resolution,\n                wc.resolution_type, wc.resolved_by_id, \n                wc.resolved_at as \"resolved_at?: String\",\n                wc.refund_amount, wc.replacement_cost, wc.notes, \n                wc.created_at as \"created_at!: String\", \n                wc.updated_at as \"updated_at!: String\",\n                c.name as customer_name,\n                c.phone as \"customer_phone?: String\",\n                p.name as \"product_name?: String\",\n                p.barcode as \"product_barcode?: String\",\n                e.name as \"resolved_by_name?: String\",\n                CASE \n                    WHEN wc.source_type = 'SALE' THEN CAST((SELECT daily_number FROM sales WHERE id IN (SELECT sale_id FROM sale_items WHERE id = wc.sale_item_id)) AS TEXT)\n                    WHEN wc.source_type = 'SERVICE_ORDER' THEN CAST((SELECT order_number FROM service_orders WHERE id IN (SELECT order_id FROM order_products WHERE id = wc.order_item_id)) AS TEXT)\n                END as \"source_number?: String\"\n            FROM warranty_claims wc\n            INNER JOIN customers c ON c.id = wc.customer_id\n            LEFT JOIN products p ON p.id = wc.product_id\n            LEFT JOIN employees e ON e.id = wc.resolved_by_id\n            WHERE wc.id = ?\n            ",
  "describe": {
    "columns": [
      {
        "name": "id",
        "ordinal": 0,
        "type_info": "Text"
      },
      {
        "name": "customer_id",
        "ordinal": 1,
        "type_info": "Text"
      },
      {
        "name": "source_type",
        "ordinal": 2,
        "type_info": "Text"
      },
      {
        "name": "sale_item_id",
        "ordinal": 3,
        "type_info": "Text"
      },
      {
        "name": "order_item_id",
        "ordinal": 4,
        "type_info": "Text"
      },
      {
        "name": "product_id",
        "ordinal": 5,
        "type_info": "Text"
      },
      {
        "name": "description",
        "ordinal": 6,
        "type_info": "Text"
      },
      {
        "name": "reason",
        "ordinal": 7,
        "type_info": "Text"
      },
      {
        "name": "status",
        "ordinal": 8,
        "type_info": "Text"
      },
      {
        "name": "resolution",
        "ordinal": 9,
        "type_info": "Text"
      },
      {
        "name": "resolution_type",
        "ordinal": 10,
        "type_info": "Text"
      },
      {
        "name": "resolved_by_id",
        "ordinal": 11,
        "type_info": "Text"
      },
      {
        "name": "resolved_at?: String",
        "ordinal": 12,
        "type_info": "Text"
      },
      {
        "name": "refund_amount",
        "ordinal": 13,
        "type_info": "Float"
      },
      {
        "name": "replacement_cost",
        "ordinal": 14,
        "type_info": "Float"
      },
      {
        "name": "notes",
        "ordinal": 15,
        "type_info": "Text"
      },
      {
        "name": "created_at!: String",
        "ordinal": 16,
        "type_info": "Text"
      },
      {
        "name": "updated_at!: String",
        "ordinal": 17,
        "type_info": "Text"
      },
      {
        "name": "customer_name",
        "ordinal": 18,
        "type_info": "Text"
      },
      {
        "name": "customer_phone?: String",
        "ordinal": 19,
        "type_info": "Text"
      },
      {
        "name": "product_name?: String",
        "ordinal": 20,
        "type_info": "Text"
      },
      {
        "name": "product_barcode?: String",
        "ordinal": 21,
        "type_info": "Text"
      },
      {
        "name": "resolved_by_name?: String",
        "ordinal": 22,
        "type_info": "Text"
      },
      {
        "name": "source_number?: String",
        "ordinal": 23,
        "type_info": "Null"
      }
    ],
    "parameters": {
      "Right": 1
    },
    "nullable": [
      false,
      false,
      false,
      true,
      true,
      true,
      false,
      false,
      false,
      true,
      true,
      true,
      true,
      true,
      true,
      true,
      false,
      false,
      false,
      true,
      false,
      true,
      false,
      null
    ]
  },
  "hash": "fcee1975c0b72c25fd211953634f65075ee7dc0398ad25f9866e5e207df7793b"
}
